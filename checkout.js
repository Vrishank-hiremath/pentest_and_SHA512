function checkout() {
    var hashFunction = null;

    // Check if attack protection checkbox is checked
    if (document.getElementById("attack").checked) {
        // Use SHA512 function from sha512.js
        hashFunction = SHA512;
    } else {
        // Use another hashing function or skip hashing
        hashFunction = someOtherHashFunction;
    }

    fetch("/check", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
        },
        body: JSON.stringify({
            items: [
                {
                    name: document.getElementById("name").value,
                    price: document.getElementById("val").value,
                    rating: document.getElementById("rate").value,
                    image: document.getElementById("image").value,
                    hash: hashFunction(document.getElementById("val").value), // Use the selected hash function
                    protect: document.getElementById("prot").value,
                },
            ],
            price: document.getElementById("val").value
        }),
    })
        .then((res) => {
            if (res.ok) return res.json();
            return res.json().then((json) => Promise.reject(json));
        })
        .then(({ url }) => {
            window.location = url;
            console.log(url);
        })
        .catch((e) => {
            console.error(e.error);
        });
}
